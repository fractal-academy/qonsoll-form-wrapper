import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Example/Documentation" />

# &#x1F4D8 Typeform documentation

[**Typeform**](https://github.com/fractal-academy/feedback-typeform-app) is a service for surveys' form builder. It makes collecting and sharing information comfortable and conversational.
Current project can be used as module in other projects.

### How to run app localy for further changes

Pull the project using following command:

```sh
git clone --recurse-submodules https://github.com/fractal-academy/submodule_connection-testing
```

Switch to project folder:

```sh
cd submodule_connection-testing
```

Install all dependecies and pull latest changes:

```sh
npm i
```

Some packages need **manual** instalation. Run following command:

```sh
npm i fuse.js && use-media && ziggeo-client-sdk && react-ziggeo
```

&#10071 For correct work of components you'll need to add an index to your firebase. In [**console firebase**](https://console.firebase.google.com) select your project, go to Firestore Database menu item and choose Indexes tab.
Add formId and order as indexed fields for questions collection. Leave index rule default (ascending).

### How to implement module in existing project

If it's first initialisation of module in project create folder for modules in directory of your existing project:

```sh
mkdir src/modules
```

Go to the created folder:

```sh
cd src/modules
```

Add typeform module to your project by following command:

```sh
git submodule add https://github.com/fractal-academy/feedback-typeform-app.git
```

Go to the /module folder:

```sh
cd feedback-typeform-app
```

Get newest changes of module:

```sh
git pull origin library
```

Some packages need manual instalation. Run following command:

```sh
npm i fuse.js && use-media && ziggeo-client-sdk && react-ziggeo
```

Go the directory of your project and install all of packages:

```sh
cd ../../../

npm install
```

&#10071 For correct work of components you'll need to add an index to your firebase. In [**console firebase**](https://console.firebase.google.com) select your project, go to Firestore Database menu item and choose Indexes tab.
Add formId and order as indexed fields for questions collection. Leave index rule default (ascending).

### How to run app with already added typeform module

After cloning existing project to your computer, install all packages:

```sh
npm install
```

Make sure that there's present /modules folder and .gitmodules file in your project.
Go to /modules folder and use following commands:

```sh
git submodule update --init --recursive
```

```sh
git submodule update --recursive --remote
```

### How to configure workflow

In section **steps** first of all you need to run this command:

```sh
- run: npm install
```

Get the latest changes of module. Go to the **/modules** directory:

```sh
- run: cd src/modules
```

By following commands update modules:

```sh
- run: git submodule update --init --recursive
```

```sh
- run: git submodule update --recursive --remote
```

Go back to your project directory and install node modules:

```sh
- run: cd ../../ && npm install
```

To build your project run following command:

```sh
- run: npm run build:dev
```

If you project **doesn't run after** following steps, that means that there's not enough memory in docker. Run following command:

```sh
- run: CI=false NODE_OPTIONS=--max-old-space-size=8192 npm run build:dev
```
